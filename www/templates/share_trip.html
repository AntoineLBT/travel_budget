{% extends "base_form.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Share a trip{% endblock %}

{% block body %}
<div class="d-flex flex-row justify-content-center">
    <div class="card mb-3 col-6 mt-3 border-0 shadow-lg">
        <div class="card-body">
            <div class="pt-4 pb-2">
                <h5 class="card-title text-center pb-0 fs-4">Share your trip</h5>
            </div>
            <p class="text-center" id="token" >
                {% if trip.token %}
                Trip token : {{ trip.token }}
                {% else %}
                You have not generate a token yet.
                {% endif %}
            </p>
            <div class="d-flex justify-content-center"> 
                <button hx-put="{% url 'htmx-generate-token' slug=trip.slug %}" hx-target="#token" hx-trigger="click" hx-swap="innerHTML" name="generate_token" value="Generate a token" class="btn btn-primary me-2">Generate token</button>
                <a class="btn btn-secondary" href="/dashboard">Cancel</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}